<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Testing in JavaScript</title>

		<link rel="stylesheet" href="../../css/reveal.css">
		<link rel="stylesheet" href="../../css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../../lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../../css/print/pdf.css' : '../../css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
        <!-- slide 1-->
        <section>
          <h1>Testing in JavaScript</h1>
          <p>Brian Douglas</p>
        </section>
        <!-- slide 2-->
        <section>
          <h1>github/bdougie</h1>
          <a href="https://github.com/bdougie"><img src="./lib/img/bdougie.png"/></a>
        </section>
        <!-- slide 3-->
        <section>
          <h1>Links</h1>
          <p><a href="https://bit.ly/blocJSTest/">bit.ly/blocJSTest/<a></p>
          <p><a href="https://docs.google.com/forms/d/e/1FAIpQLSeGNFA9YYgP2Awz_2RnGm1RjdEDx-CWul6nTT5BQ4f7lDI4Ug/viewform?entry.1364471353=YOUR+SESSION+NAME&entry.1404187043&entry.1060203151&entry.936748505&entry.90248072">Feedback Survey</a></p>
        </section>
        <!-- slide 4-->
        <section>
          <h1>Overview</h1>
          <ol>
            <li>Types of Testing</li>
            <li>Testing Tools</li>
            <li>Write a test</li>
          </ol>
        </section>
        <!-- slide 5-->
        <section>
          <h1>Expectation</h1>
          <ul>
            <li>You should have a basic understanding of JavaScript</li>
            <li>Please particpate by answering my questions ðŸ˜º</li>
          </ul>
        </section>
        <!-- slide 5-->
        <section>
          <h1>How confident are you with testing?</h1>
        </section>
        <!-- slide 6-->
        <section>
          <h2>Test confidence comes from simplicity</h2>
          <p>
            <ul>
              <li>Tests should be reliable.</li>
              <li>Tests should be easy to write.</li>
              <li>Tests should be easy to understand.</li>
            <ul>
          </p>
        </section>
        <!-- slide 7-->
        <section>
          <h1><a
              href="https://www.sitepoint.com/javascript-testing-unit-functional-integration/">Types
              of testing </a></h1>
          <p>
            <ul>
              <li><em style="color:lightblue">Unit</em> testing - small focus (<em
                  style="color:pink">on/off</em>)</li>
              <li><em style="color:lightblue">Integration</em> testing - putting
                the pieces together (<em style="color:pink">end to end</em>)</li>
              <li><em style="color:lightblue">Acceptance</em> testing - code agnostic automation</li>
            <ul>
          </p>
        </section>
        <!-- slide 7-->
        <section>
          <img src="https://cdn-images-1.medium.com/max/1600/1*UtZzMT32fRMnSN-HmgiSVQ.gif" />
        </section>
        <!-- slide 7-->
        <section>
          <h1>Tools for testing</h1>
          <p>
            <ul>
              <li>Framework(<a
                                                    href="https://github.com/facebook/jest">jest</a> or <a
                                                    href="https://github.com/mochajs/mocha">mocha</a>)</li>
              <li>Mocks</li>
              <li>Headless browser tools</li>
            <ul>
          </p>
        </section>
        <!-- slide 9-->
				<section>
          <h1><a
               href="https://facebook.github.io/jest/docs/en/getting-started.html">Testing
               Setup</a></h1>
          <pre><code data-trim data-noescape>
// test is checking if the value is equal to the expectedValue

test('test description', function() {
  expect(value).toBe(expectedValue);
});
          </code></pre>
        </section>
        <!-- slide 10-->
        <section>
          <h2><a href="https://facebook.github.io/jest/docs/en/using-matchers.html">Unit Test
              Example</a></h2>
          <pre><code data-trim data-noescape>
// jest example

it('two plus two is four', () => {
  expect(2 + 2).toBe(4);
});

// mocha example

it('two plus two is four', () => {
  value = 2 + 2
  assertEquals(value, 4, "This is an additional message you can write");
});
          </code></pre>
        </section>
        <!-- slide 9-->
        <section>
            <h2><a
                href="http://engineering.pivotal.io/post/react-integration-tests-with-enzyme/">Integration
                </a></h2>
            <img
            src="http://engineering.pivotal.io/images/react-integration-tests-with-enzyme/app.gif"/>
        </section>
        <!-- slide 9-->
        <section>
            <h2><a href="http://engineering.pivotal.io/post/react-integration-tests-with-enzyme/">Integration Test
                Example</a></h2>
          <pre><code data-trim data-noescape>
it('users can add items to the shopping list simultaneously', async () => {
  // create mock data using a local mockApi server:
  mockApi.mockGetItems([{id: 12, name: 'bananas'}, {id: 13, name: 'dill'}]);

  // more test setup (ceremony)
  clickAddNewItemButton();
  fillInItemName('carrots');
  clickSaveNewItemButton();

  expect(getItems()).toEqual(['bananas', 'dill', 'carrots']);
});

clickAddNewItemButton() {
  const button = screen.find(`[data-qa="${'add-new-item'}"]`)
  click(button);
}

fillInItemName(name) {
  const input = screen.find(`[data-qa="${'new-item-name'}"]`)
  setValue(input, name);
}
          </code></pre>
        </section>
        <!-- slide 9-->
        <section>
            <h2><a
                href="https://github.com/bdougie/open-sauced/blob/master/src/tests/mocks/localStorage.js">Why
                Mocks?</a></h2>
          <pre><code data-trim data-noescape>
import {LocalStorageMock, data, match} from "./mocks";

// set up local storage mock usage in component
global.localStorage = new LocalStorageMock
localStorage.setItem("currentOpenSaucedUser", JSON.stringify({...data}));
          </code></pre>
        </section>


        <!-- slide 10-->
        <section>
            <h2><a href="http://nightwatchjs.org/">Acceptance Test
                Example</a></h2>
          <pre><code data-trim data-noescape>
module.exports = {
  'Test input works' : function (browser) {
    browser
      .url('http://www.your-site.com')
      .waitForElementVisible('body', 1000)
      .setValue('input[type=text]', 'carrots')
      .waitForElementVisible('button[name=btnG]', 1000)
      .click('button[name=btnG]')
      .pause(1000)
      .assert.containsText('#main', 'carrots')
      .end();
  }
};
          </code></pre>
        </section>
        <!-- slide 9-->
        <section>
            <h2 style="text-align:left"><a
                href="https://developers.google.com/web/updates/2017/06/headless-karma-mocha-chai">Headless
                web browser
                </a></h2>
                <p style="text-align:left">
                  A headless browser is a web browser without a graphical user interface. Headless
                  browsers provide automated control of a web page in an environment similar to
                  popular web browsers, but are executed via a command-line interface or using
                  network communication.
                </p>
        </section>
        <!-- slide 12-->
        <section>
          <h1>Questions?</h1>
        </section>
        <!-- slide 12-->
        <section>
          <h1>Write a test</h1>
          <a
            href="https://www.codewars.com/kata/fizzbuzz-array-custom/train/javascript">Test
          Custom FizzBuzz</a>
          <pre><code data-trim data-noescape>
fizzBuzzCustom()[15]                         // returns 16
fizzBuzzCustom()[44]                         // returns "FizzBuzz" (45 is divisible by 3 and 5)
fizzBuzzCustom('Hey', 'There')[25]         // returns 26
fizzBuzzCustom('Hey', 'There')[11]         // returns "Hey" (12 is divisible by 3)
fizzBuzzCustom("What's ", "up?", 3, 7)[80] // returns "What's " (81 is divisible by 3)
          </code></pre>
        </section>
        <section>
          <h2>Should I <a
          href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a>?</h2>
          <p><a
            href="https://memegenerator.net/img/instances/500x/58097633/what-if-i-told-you-it-depends.jpg">click
            to see answer</a></p>
        </section>
        <!-- slide 14-->
				<section>
          <h1>The End</h1>
          <ul>
            <li><a href="https://bit.ly/blocJSTest/">bit.ly/blocJSTest/<a></li>
            <li><a
              href="https://docs.google.com/forms/d/e/1FAIpQLSeGNFA9YYgP2Awz_2RnGm1RjdEDx-CWul6nTT5BQ4f7lDI4Ug/viewform?entry.1364471353=YOUR+SESSION+NAME&entry.1404187043&entry.1060203151&entry.936748505&entry.90248072">Feedback
              Survey</a></li>
            <li><a href="https://github.com/mrdavidlaing/javascript-koans">JavaScript Koans<a></li>
	    <li><a href="http://exercism.io/">execism.io<a></li>

            <li><a href="https://facebook.github.io/jest/">Jest docs<a></li>
            <li><a
                href="https://www.sitepoint.com/javascript-testing-unit-functional-integration/">JavaScript
                Testing<a></li>
          </ul>
        </section>
			</div>
		</div>

		<script src="../../lib/js/head.min.js"></script>
		<script src="../../js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: '../../plugin/markdown/marked.js' },
					{ src: '../../plugin/markdown/markdown.js' },
					{ src: '../../plugin/notes/notes.js', async: true },
					{ src: '../../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
